


 <!DOCTYPE html>
 <html lang="en">
   <head>
     <meta charset="UTF-8" />
     <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <title>Shaadiwali</title>
     <link rel="icon" href="/images/Logo1.jpeg" type="image/jpeg" />
 
     <!-- Tailwind CSS -->
     <script src="https://cdn.tailwindcss.com"></script>
     <link rel="stylesheet" href="/home.css">
 
     <!-- Font Awesome -->
     <link
       rel="stylesheet"
       href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
       crossorigin="anonymous"
       referrerpolicy="no-referrer"
     />
     


   </head>
   <body class="bg-gray-50">
 
     <!-- Header -->
     <header class="bg-white shadow-md">
       <div class="container mx-auto flex justify-between items-center px-4 py-3">
         <!-- Logo + Title -->
         <div class="flex items-center space-x-3">
           <img src="/images/Logo1.jpeg" alt="Logo" class="w-10 h-10 rounded-full" />
           <h1 class="text-2xl font-bold text-pink-600">
             <a href="/">SHAADIWALI</a>
           </h1>
         </div>
 
         <!-- Hamburger button for mobile -->
         <button id="menu-btn" class="text-gray-600 text-2xl md:hidden focus:outline-none">
           <i class="fa-solid fa-bars"></i>
         </button>
 
         <!-- Navbar links -->
         <nav id="menu" class="hidden md:flex items-center space-x-6 text-gray-700 font-medium">
           <a href="/" class="flex flex-col items-center hover:text-pink-600">
             <i class="fa-solid fa-house text-xl mb-1"></i>
             Home
           </a>
 
           <% if (!user) { %>
             <a href="/login" class="flex flex-col items-center hover:text-pink-600">
               <i class="fa-solid fa-right-to-bracket text-xl mb-1"></i>
               Login
             </a>
           <% } else { %>
            <a href="/people" class="flex flex-col items-center hover:text-pink-600">
              <i class="fa-solid fa-user-group text-xl mb-1"></i>
              People
            </a>
            <a href="/inbox" class="flex flex-col items-center hover:text-pink-600">
              <i class="fa-solid fa-comments text-xl mb-1"></i>
              Inbox
            </a>
            
          
            <a href="/pricing" class="flex flex-col items-center hover:text-pink-600">
              <i class="fa-solid fa-tag text-xl mb-1"></i>
              Pricing
            </a>
            <a href="/profile" class="flex flex-col items-center hover:text-pink-600">
              <i class="fa-solid fa-circle-user text-xl mb-1"></i>
              Profile
            </a>
            <% if (isAdmin) { %>
              <a href="/admin" class="flex flex-col items-center text-red-600 hover:text-red-700">
                <i class="fa-solid fa-user-shield text-xl mb-1"></i>
                Admin
              </a>
            <% } %>
            <a href="/logout" class="flex flex-col items-center hover:text-pink-600">
              <i class="fa-solid fa-right-from-bracket text-xl mb-1"></i>
              Logout
            </a>
           <% } %>
 
           
         </nav>
       </div>
 
       <!-- Mobile Menu -->
       <div id="mobile-menu" class="hidden flex flex-col items-center space-y-4 pb-4 bg-white md:hidden">
         <a href="/" class="flex flex-col items-center hover:text-pink-600">
           <i class="fa-solid fa-house text-xl mb-1"></i> Home
         </a>
 
         <% if (!user) { %>
           <a href="/signup" class="flex flex-col items-center hover:text-pink-600">
             <i class="fa-solid fa-user-plus text-xl mb-1"></i> Signup
           </a>
           <a href="/login" class="flex flex-col items-center hover:text-pink-600">
             <i class="fa-solid fa-right-to-bracket text-xl mb-1"></i> Login
           </a>
         <% } else { %>
           <a href="/people" class="flex flex-col items-center hover:text-pink-600">
             <i class="fa-solid fa-user-group text-xl mb-1"></i> People
           </a>
           <a href="/pricing" class="flex flex-col items-center hover:text-pink-600">
             <i class="fa-solid fa-tag text-xl mb-1"></i> Pricing
           </a>
           <a href="/profile/<%= userProfile ? userProfile._id : (user ? user._id : '') %>"
             class="flex flex-col items-center hover:text-pink-600">
             <i class="fa-solid fa-circle-user text-xl mb-1"></i> Profile
           </a>
           <% if (isAdmin) { %>
            <a href="/admin" class="flex flex-col items-center text-red-600 hover:text-red-700">
              <i class="fa-solid fa-user-shield text-xl mb-1"></i>
              Admin
            </a>
          <% } %>
          
           <a href="/logout" class="flex flex-col items-center hover:text-pink-600">
             <i class="fa-solid fa-right-from-bracket text-xl mb-1"></i> Logout
           </a>
         <% } %>
       </div>
     </header>
 
     <%- body %>
 
     <!-- Toggle Script -->
     <script>
       const menuBtn = document.getElementById('menu-btn');
       const menu = document.getElementById('menu');
       const mobileMenu = document.getElementById('mobile-menu');
 
       menuBtn.addEventListener('click', () => {
         mobileMenu.classList.toggle('hidden');
       });
     </script>
     <script src="/socket.io/socket.io.js"></script>
     <script>
      // Initialize Socket.io
      window.socket = io();
    
      window.socket.on("connect", () => {
        console.log("üü¢ Socket Connected! ID:", window.socket.id);
    
        <% if (user && user.phone) { %>
          // Use the phone number from the user session to join the room
          window.socket.emit("join user room", "<%= user.phone %>");
          
        <% } %>
      });
    
      window.socket.on("disconnect", () => {
        console.log("üî¥ Socket Disconnected");
      });
    
      window.socket.on("connect_error", (err) => {
        console.error("‚ùå Socket Connection Error:", err);
      });
    </script>
    
     

     
   </body>
 </html>
 