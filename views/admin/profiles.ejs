<%- layout("layouts/navbar.ejs") %>

<div class="max-w-7xl mx-auto p-6">
  <h1 class="text-2xl font-bold mb-6">All User Profiles</h1>

  <table class="w-full bg-white rounded-xl shadow overflow-hidden">
    <thead class="bg-gray-100 text-left">
      <tr>
        <th class="p-3">Name</th>
        <th class="p-3">About</th>
        <th class="p-3">Expertise</th>
        <th class="p-3">Interests</th>
        <th class="p-3">Membership</th>
      </tr>
    </thead>

    <tbody>
      <% profiles.forEach(p => { %>
        <tr
          class="border-t hover:bg-gray-50 cursor-pointer"
          onclick="window.location.href='/admin/profile/<%= p._id %>'"
        >
          <td class="p-3 font-medium">
            <%= p.first_name %> <%= p.last_name %>
          </td>

          <td class="p-3">
            <%= p.about ? "✅" : "❌" %>
          </td>

          <td class="p-3">
            <%= p.expertise?.length ? "✅" : "❌" %>
          </td>

          <td class="p-3">
            <%= p.interests?.length ? "✅" : "❌" %>
          </td>

          <td class="p-3">
            <% if (p.isSubscribed) { %>
              <span class="text-green-600 font-semibold">Active</span>
            <% } else { %>
              <span class="text-gray-500 font-semibold">Inactive</span>
            <% } %>
          </td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>
